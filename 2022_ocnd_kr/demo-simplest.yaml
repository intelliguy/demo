fluentbit:
  enabled: true

  outputs:
    es:
    - name: demo-es
      host: eck-elasticsearch-es-http
      port: 9200

      dedicatedUser:
        username: demo
        password: demopassword
        elasticPasswordSecret: eck-elasticsearch-es-elastic-user
      
      template:
        enabled: false

    loki: 
    - name: demo-loki
      host: loki
      port: 3100

  targetLogs:
  - tag: kube.*
    bufferChunkSize: 2M
    bufferMaxSize: 5M
    do_not_store_as_default: false
    es_name: demo-es
    index: container
    loki_name: demo-loki
    memBufLimit: 20MB
    multi_index:
    - index: platform
      es_name: demo-es
      loki_name: demo-loki
      key: $kubernetes['namespace_name']
      value: kube-system|demo-system|lma|argo
    parser: docker
    path: /var/log/containers/*.log
    type: kubernates
    extraArgs:
      multilineParser: docker, cri

  - tag: syslog.*
    es_name: demo-es
    loki_name: demo-loki
    index: syslog
    parser: demo-syslog-parser-for-ubuntu
    path: /var/log/syslog
    type: syslog
